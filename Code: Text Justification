# -*- coding: utf-8 -*-

"""
After many, many failed attempts to incorporate a Justification button into my
Text Editor program, I restarted from scratch with an attempt to code ONLY the
font toolbar in "Skeleton for Font Styling". After many, many (MANY) more failed 
attempts to incorporate a function that would justify text so that would leave 
both sides of a paragraph flush into my font bar, this is a THIRD project that 
will souly focus on the Justify Text function.

Yes, I am that frustrated.

Once successful, this code will be incorporated into the font toolbar in 
"Skeleton for Font Styling", which will then be incorporated into my basic Text
Editor, and finally, into my Advanced Text Editor.

Bear with me.  I'm still learning.
"""


import tkinter as tk
import textwrap

def justify_text(event):
    text = text_widget.get("1.0", "end-1c")  # Retrieve text from the text widget
    width = event.width  # Get the new width of the window
    justified_text = justify_text_helper(text, width)
    text_widget.config(state="normal")  # Enable editing
    text_widget.delete("1.0", "end")  # Clear existing text
    text_widget.insert("1.0", justified_text)  # Insert justified text
    text_widget.config(state="disabled")  # Disable editing

def justify_text_helper(text, width):
    wrapper = textwrap.TextWrapper(width=width)
    lines = text.split('\n')
    justified_lines = [wrapper.fill(line) for line in lines]
    justified_text = '\n'.join(justified_lines)
    return justified_text

# Example usage:
root = tk.Tk()

text_widget = tk.Text(root, wrap="word")
text_widget.pack(fill="both", expand=True)

# Initial text insertion
text = "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."
text_widget.insert("1.0", text)

# Binding the justify_text function to the <Configure> event of the root window
root.bind("<Configure>", justify_text)

root.mainloop()

