import tkinter as tk
from tkinter import ttk, colorchooser, filedialog

def toggle_dark_mode():
    """Toggle Dark Mode by changing background and text colors."""
    global is_dark_mode
    if is_dark_mode:
        text_widget.config(bg="white", fg="black")
        is_dark_mode = False
    else:
        text_widget.config(bg="black", fg="white")
        is_dark_mode = True

def choose_color_scheme():
    """Change the color scheme of the text editor using a color chooser."""
    chosen_color = colorchooser.askcolor(title="Choose Color Scheme")[1]
    if chosen_color:
        text_widget.config(bg=chosen_color)

def open_file():
    """Open a text file and display its content in the text editor."""
    file_path = filedialog.askopenfilename(filetypes=[("Text Files", "*.txt")])
    if file_path:
        with open(file_path, "r") as file:
            text_widget.delete(1.0, tk.END)
            text_widget.insert(tk.END, file.read())

def save_file():
    """Save the content of the text editor to a text file."""
    file_path = filedialog.asksaveasfilename(defaultextension=".txt", filetypes=[("Text Files", "*.txt")])
    if file_path:
        with open(file_path, "w") as file:
            file.write(text_widget.get(1.0, tk.END))

# Create the main window
root = tk.Tk()
root.title("Text Editor")

# Create a toolbar frame
toolbar = ttk.Frame(root)
toolbar.grid(row=0, column=0, columnspan=2, sticky="W")

# Create buttons on the toolbar
dark_mode_button = ttk.Button(toolbar, text="Toggle Dark Mode", command=toggle_dark_mode)
dark_mode_button.pack(side="left", padx=5, pady=5)

color_scheme_button = ttk.Button(toolbar, text="Change Color Scheme", command=choose_color_scheme)
color_scheme_button.pack(side="left", padx=5, pady=5)

open_button = ttk.Button(toolbar, text="Open", command=open_file)
open_button.pack(side="left", padx=5, pady=5)

save_button = ttk.Button(toolbar, text="Save", command=save_file)
save_button.pack(side="left", padx=5, pady=5)

# Create a text widget
text_widget = tk.Text(root, wrap="word")
text_widget.grid(row=1, column=0, columnspan=2, sticky="NSEW")

# Add a scrollbar
scrollbar = tk.Scrollbar(root, command=text_widget.yview)
scrollbar.grid(row=1, column=2, sticky="NS")
text_widget.config(yscrollcommand=scrollbar.set)

# Configure grid layout behavior
root.grid_rowconfigure(1, weight=1)
root.grid_columnconfigure(0, weight=1)

# Set default Dark Mode state
is_dark_mode = False

# Run the application
root.mainloop()
