"""
A Simple set of Functions to act as a Search and Replace feature inside a Notebook app.
"""

from tkinter import *

def find_and_replace():
    dialog = Toplevel(root)
    dialog.title("Find and Replace")
    
    def find():
        find_text = find_entry.get()
        if find_text:
            text.tag_remove('found', '1.0', END)
            idx = '1.0'
            while 1:
                idx = text.search(find_text, idx, nocase=1, stopindex=END)
                if not idx: break
                lastidx = f"{idx}+{len(find_text)}c"
                text.tag_add('found', idx, lastidx)
                idx = lastidx
            text.tag_config('found', foreground='green', background='yellow')
    
    def replace():
        find_text = find_entry.get()
        replace_text = replace_entry.get()
        if find_text and replace_text:
            text_content = text.get('1.0', 'end-1c')
            updated_content = text_content.replace(find_text, replace_text)
            text.delete('1.0', 'end')
            text.insert('1.0', updated_content)
            find()
    
    find_label = Label(dialog, text="Find:")
    find_label.grid(row=0, column=0, padx=5, pady=5)
    find_entry = Entry(dialog)
    find_entry.grid(row=0, column=1, padx=5, pady=5)
    
    find_button = Button(dialog, text="Find", command=find)
    find_button.grid(row=0, column=2, padx=5, pady=5)
    
    replace_label = Label(dialog, text="Replace with:")
    replace_label.grid(row=1, column=0, padx=5, pady=5)
    replace_entry = Entry(dialog)
    replace_entry.grid(row=1, column=1, padx=5, pady=5)
    
    replace_button = Button(dialog, text="Replace", command=replace)
    replace_button.grid(row=1, column=2, padx=5, pady=5)
    
    find_entry.focus_set()
    
root = Tk()
text = Text(root)
text.insert('1.0', '''Type your text here''')
text.pack(side=BOTTOM)

menu_bar = Menu(root)
root.config(menu=menu_bar)
submenu = Menu(menu_bar, tearoff=0)
menu_bar.add_cascade(label="Options", menu=submenu)
submenu.add_command(label="Search and Replace", command=find_and_replace)

root.mainloop()

